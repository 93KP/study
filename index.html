<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secure Ebook Access</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.10.142/pdf.min.js"></script>

<style>
body{
  margin:0;
  font-family:system-ui,Segoe UI,Arial;
  background:linear-gradient(135deg,#020617,#0f172a);
  color:#e5e7eb;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}
.card{
  width:100%;
  max-width:420px;
  background:rgba(255,255,255,0.07);
  border-radius:18px;
  padding:26px;
  text-align:center;
  backdrop-filter:blur(12px);
  box-shadow:0 20px 60px rgba(0,0,0,.6);
}
h1{margin:0 0 8px}
p{font-size:14px;opacity:.85}
input{
  width:100%;
  padding:14px;
  margin-top:14px;
  border-radius:12px;
  border:none;
  background:rgba(255,255,255,.12);
  color:#fff;
}
button{
  width:100%;
  margin-top:14px;
  padding:14px;
  border:none;
  border-radius:12px;
  font-weight:700;
  cursor:pointer;
  background:linear-gradient(90deg,#22d3ee,#3b82f6);
}
#status{margin-top:10px;font-size:13px}
#pdf-container{
  display:none;
  width:100%;
  max-width:1000px;
  height:100vh;
  overflow:auto;
}
canvas{
  width:100%!important;
  height:auto!important;
  background:#fff;
  margin:12px auto;
  border-radius:8px;
}
</style>
</head>

<body>

<div class="card" id="login">
  <h1>Hidden Truth</h1>
  <p>Enter your password to unlock the ebook</p>
  <input type="password" id="password" placeholder="userXXXX">
  <button id="unlock">Unlock</button>
  <div id="status"></div>
</div>

<div id="pdf-container"></div>

<script>
/* ================= PASSWORD MAP (RANDOMIZED) ================= */

/* Note: URLs now use your GitHub Pages domain so PDF.js can fetch them without CORS problems */
const accessMap = {
  /* ---- ht.pdf (100 random) ---- */
  "user4827":"https://93kp.github.io/study/ht.pdf","user9173":"https://93kp.github.io/study/ht.pdf","user3048":"https://93kp.github.io/study/ht.pdf","user6912":"https://93kp.github.io/study/ht.pdf",
  "user5384":"https://93kp.github.io/study/ht.pdf","user1769":"https://93kp.github.io/study/ht.pdf","user8421":"https://93kp.github.io/study/ht.pdf","user2957":"https://93kp.github.io/study/ht.pdf",
  "user6041":"https://93kp.github.io/study/ht.pdf","user7198":"https://93kp.github.io/study/ht.pdf","user3582":"https://93kp.github.io/study/ht.pdf","user9246":"https://93kp.github.io/study/ht.pdf",
  "user4670":"https://93kp.github.io/study/ht.pdf","user5819":"https://93kp.github.io/study/ht.pdf","user7391":"https://93kp.github.io/study/ht.pdf","user2146":"https://93kp.github.io/study/ht.pdf",
  "user8903":"https://93kp.github.io/study/ht.pdf","user1658":"https://93kp.github.io/study/ht.pdf","user6724":"https://93kp.github.io/study/ht.pdf","user4019":"https://93kp.github.io/study/ht.pdf",
  "user7536":"https://93kp.github.io/study/ht.pdf","user2891":"https://93kp.github.io/study/ht.pdf","user9462":"https://93kp.github.io/study/ht.pdf","user5107":"https://93kp.github.io/study/ht.pdf",
  "user3289":"https://93kp.github.io/study/ht.pdf","user6974":"https://93kp.github.io/study/ht.pdf","user8417":"https://93kp.github.io/study/ht.pdf","user2046":"https://93kp.github.io/study/ht.pdf",
  "user9168":"https://93kp.github.io/study/ht.pdf","user4357":"https://93kp.github.io/study/ht.pdf","user5682":"https://93kp.github.io/study/ht.pdf","user7095":"https://93kp.github.io/study/ht.pdf",
  "user1874":"https://93kp.github.io/study/ht.pdf","user6541":"https://93kp.github.io/study/ht.pdf","user3926":"https://93kp.github.io/study/ht.pdf","user8459":"https://93kp.github.io/study/ht.pdf",
  "user2187":"https://93kp.github.io/study/ht.pdf","user5710":"https://93kp.github.io/study/ht.pdf","user9348":"https://93kp.github.io/study/ht.pdf","user4691":"https://93kp.github.io/study/ht.pdf",
  "user7036":"https://93kp.github.io/study/ht.pdf","user2549":"https://93kp.github.io/study/ht.pdf","user8167":"https://93kp.github.io/study/ht.pdf","user6428":"https://93kp.github.io/study/ht.pdf",
  "user3815":"https://93kp.github.io/study/ht.pdf","user9204":"https://93kp.github.io/study/ht.pdf","user4972":"https://93kp.github.io/study/ht.pdf","user7581":"https://93kp.github.io/study/ht.pdf",
  "user1630":"https://93kp.github.io/study/ht.pdf","user6849":"https://93kp.github.io/study/ht.pdf","user5724":"https://93kp.github.io/study/ht.pdf","user3096":"https://93kp.github.io/study/ht.pdf",
  "user8517":"https://93kp.github.io/study/ht.pdf","user2961":"https://93kp.github.io/study/ht.pdf","user7304":"https://93kp.github.io/study/ht.pdf","user4189":"https://93kp.github.io/study/ht.pdf",
  "user9652":"https://93kp.github.io/study/ht.pdf","user1847":"https://93kp.github.io/study/ht.pdf","user5028":"https://93kp.github.io/study/ht.pdf","user6719":"https://93kp.github.io/study/ht.pdf",
  "user3476":"https://93kp.github.io/study/ht.pdf","user8294":"https://93kp.github.io/study/ht.pdf","user9106":"https://93kp.github.io/study/ht.pdf","user2635":"https://93kp.github.io/study/ht.pdf",
  "user5491":"https://93kp.github.io/study/ht.pdf","user7386":"https://93kp.github.io/study/ht.pdf","user1269":"https://93kp.github.io/study/ht.pdf","user6951":"https://93kp.github.io/study/ht.pdf",
  "user4182":"https://93kp.github.io/study/ht.pdf","user9738":"https://93kp.github.io/study/ht.pdf","user2846":"https://93kp.github.io/study/ht.pdf","user5607":"https://93kp.github.io/study/ht.pdf",
  "user7349":"https://93kp.github.io/study/ht.pdf","user3981":"https://93kp.github.io/study/ht.pdf","user8205":"https://93kp.github.io/study/ht.pdf","user1468":"https://93kp.github.io/study/ht.pdf",
  "user6920":"https://93kp.github.io/study/ht.pdf","user4573":"https://93kp.github.io/study/ht.pdf","user9182":"https://93kp.github.io/study/ht.pdf","user3057":"https://93kp.github.io/study/ht.pdf",
  "user6419":"https://93kp.github.io/study/ht.pdf","user2897":"https://93kp.github.io/study/ht.pdf","user8741":"https://93kp.github.io/study/ht.pdf","user5196":"https://93kp.github.io/study/ht.pdf",
  "user7064":"https://93kp.github.io/study/ht.pdf","user1683":"https://93kp.github.io/study/ht.pdf","user9420":"https://93kp.github.io/study/ht.pdf","user3871":"https://93kp.github.io/study/ht.pdf",

  /* ---- ht1.pdf (100 random) ---- */
  "user7018":"https://93kp.github.io/study/ht1.pdf","user3920":"https://93kp.github.io/study/ht1.pdf","user8561":"https://93kp.github.io/study/ht1.pdf","user2437":"https://93kp.github.io/study/ht1.pdf",
  "user9146":"https://93kp.github.io/study/ht1.pdf","user5684":"https://93kp.github.io/study/ht1.pdf","user7301":"https://93kp.github.io/study/ht1.pdf","user1896":"https://93kp.github.io/study/ht1.pdf",
  "user6472":"https://93kp.github.io/study/ht1.pdf","user8241":"https://93kp.github.io/study/ht1.pdf","user3957":"https://93kp.github.io/study/ht1.pdf","user9624":"https://93kp.github.io/study/ht1.pdf",
  "user5081":"https://93kp.github.io/study/ht1.pdf","user7419":"https://93kp.github.io/study/ht1.pdf","user2648":"https://93kp.github.io/study/ht1.pdf","user8750":"https://93kp.github.io/study/ht1.pdf",
  "user1369":"https://93kp.github.io/study/ht1.pdf","user6842":"https://93kp.github.io/study/ht1.pdf","user4297":"https://93kp.github.io/study/ht1.pdf","user9163":"https://93kp.github.io/study/ht1.pdf",
  "user3705":"https://93kp.github.io/study/ht1.pdf","user5982":"https://93kp.github.io/study/ht1.pdf","user7216":"https://93kp.github.io/study/ht1.pdf","user1842":"https://93kp.github.io/study/ht1.pdf",
  "user8469":"https://93kp.github.io/study/ht1.pdf","user5037":"https://93kp.github.io/study/ht1.pdf","user6924":"https://93kp.github.io/study/ht1.pdf","user2571":"https://93kp.github.io/study/ht1.pdf",
  "user9341":"https://93kp.github.io/study/ht1.pdf","user4106":"https://93kp.github.io/study/ht1.pdf","user5689":"https://93kp.github.io/study/ht1.pdf","user7032":"https://93kp.github.io/study/ht1.pdf",
  "user1987":"https://93kp.github.io/study/ht1.pdf","user6504":"https://93kp.github.io/study/ht1.pdf","user3892":"https://93kp.github.io/study/ht1.pdf","user8206":"https://93kp.github.io/study/ht1.pdf",
  "user2418":"https://93kp.github.io/study/ht1.pdf","user5793":"https://93kp.github.io/study/ht1.pdf","user9472":"https://93kp.github.io/study/ht1.pdf","user4620":"https://93kp.github.io/study/ht1.pdf",
  "user7398":"https://93kp.github.io/study/ht1.pdf","user2864":"https://93kp.github.io/study/ht1.pdf","user8152":"https://93kp.github.io/study/ht1.pdf","user6047":"https://93kp.github.io/study/ht1.pdf",
  "user3925":"https://93kp.github.io/study/ht1.pdf","user9284":"https://93kp.github.io/study/ht1.pdf","user4710":"https://93kp.github.io/study/ht1.pdf","user7538":"https://93kp.github.io/study/ht1.pdf",
  "user1694":"https://93kp.github.io/study/ht1.pdf","user6801":"https://93kp.github.io/study/ht1.pdf","user5729":"https://93kp.github.io/study/ht1.pdf","user3018":"https://93kp.github.io/study/ht1.pdf",
  "user8493":"https://93kp.github.io/study/ht1.pdf","user2641":"https://93kp.github.io/study/ht1.pdf","user7315":"https://93kp.github.io/study/ht1.pdf","user4096":"https://93kp.github.io/study/ht1.pdf",
  "user9621":"https://93kp.github.io/study/ht1.pdf","user1748":"https://93kp.github.io/study/ht1.pdf","user5092":"https://93kp.github.io/study/ht1.pdf","user6713":"https://93kp.github.io/study/ht1.pdf",
  "user3480":"https://93kp.github.io/study/ht1.pdf","user8267":"https://93kp.github.io/study/ht1.pdf","user9135":"https://93kp.github.io/study/ht1.pdf","user2619":"https://93kp.github.io/study/ht1.pdf",
  "user5486":"https://93kp.github.io/study/ht1.pdf","user7361":"https://93kp.github.io/study/ht1.pdf","user1298":"https://93kp.github.io/study/ht1.pdf","user6973":"https://93kp.github.io/study/ht1.pdf",
  "user4186":"https://93kp.github.io/study/ht1.pdf","user9740":"https://93kp.github.io/study/ht1.pdf","user2859":"https://93kp.github.io/study/ht1.pdf","user5601":"https://93kp.github.io/study/ht1.pdf",
  "user7324":"https://93kp.github.io/study/ht1.pdf","user3986":"https://93kp.github.io/study/ht1.pdf","user8237":"https://93kp.github.io/study/ht1.pdf","user1482":"https://93kp.github.io/study/ht1.pdf",
  "user6945":"https://93kp.github.io/study/ht1.pdf","user4561":"https://93kp.github.io/study/ht1.pdf","user9170":"https://93kp.github.io/study/ht1.pdf","user3084":"https://93kp.github.io/study/ht1.pdf",
  "user6425":"https://93kp.github.io/study/ht1.pdf","user2879":"https://93kp.github.io/study/ht1.pdf","user8716":"https://93kp.github.io/study/ht1.pdf","user5169":"https://93kp.github.io/study/ht1.pdf",
  "user7083":"https://93kp.github.io/study/ht1.pdf","user1672":"https://93kp.github.io/study/ht1.pdf","user9415":"https://93kp.github.io/study/ht1.pdf","user3856":"https://93kp.github.io/study/ht1.pdf"
};

/* ================= LOGIC ================= */

document.getElementById("unlock").onclick = async ()=>{
  const pw = document.getElementById("password").value.trim();
  const pdfFile = accessMap[pw];
  const status = document.getElementById("status");

  if(!pw){ status.textContent="Enter password"; return; }
  if(!pdfFile){ status.textContent="Invalid password"; return; }

  document.getElementById("login").style.display="none";
  const box = document.getElementById("pdf-container");
  box.style.display="block";

  const pdf = await pdfjsLib.getDocument(pdfFile).promise;
  const scale = window.innerWidth < 600 ? 1.1 : 1.5;

  for(let i=1;i<=pdf.numPages;i++){
    const page = await pdf.getPage(i);
    const viewport = page.getViewport({scale});
    const canvas = document.createElement("canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = viewport.width;
    canvas.height = viewport.height;
    box.appendChild(canvas);
    await page.render({canvasContext:ctx, viewport}).promise;
  }
};
</script>

</body>
</html>
